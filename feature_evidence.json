{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-perform-a-full-rewrite-of-frontend-src-pages-loginpage-tsx-the-sign-in-with-internet-identity-button-must-1-never-be-disabled-or-have-any-condition-preventing-it-from-being-clicked-2-call-the-login-function-from-the-useinternetidentity-hook-on-click-3-display-a-visible-loading-spinner-while-isloggingin-is-true-4-on-successful-authentication-identity-becomes-non-null-isauthenticated-becomes-true-use-tanstack-router-s-usenavigate-to-redirect-to-dashboard-or-admin-dashboard-manager-dashboard-client-dashboard-based-on-role-if-available-5-display-a-user-visible-inline-error-message-if-login-throws-or-authentication-is-cancelled-remove-every-guard-disabled-prop-or-conditional-render-that-could-block-the-button-before-the-actor-is-initialized",
      "featureTitle": "Perform a full rewrite of frontend/src/pages/LoginPage.tsx. The Sign In with Internet Identity button must: (1) never be disabled or have any condition preventing it from being clicked; (2) call the login() function from the useInternetIdentity hook on click; (3) display a visible loading spinner while isLoggingIn is true; (4) on successful authentication (identity becomes non-null / isAuthenticated becomes true), use TanStack Router's useNavigate to redirect to /dashboard (or /admin-dashboard, /manager-dashboard, /client-dashboard based on role if available); (5) display a user-visible inline error message if login() throws or authentication is cancelled. Remove every guard, disabled prop, or conditional render that could block the button before the actor is initialized.",
      "files": [
        "frontend/src/pages/LoginPage.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "stripe@3.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "http-outcalls@3.0.0",
        "qr-code@1.0.0",
        "camera@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-37"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-rewrite-frontend-src-components-bootstrap-bootstrapgate-tsx-so-it-never-blocks-or-visually-disables-the-loginpage-ui-bootstrapgate-must-detect-when-the-current-route-is-the-login-page-or-when-the-user-is-unauthenticated-and-render-children-directly-without-any-loading-spinner-overlay-or-disabled-wrapper-the-gate-must-only-intercept-navigation-to-authenticated-protected-routes-unauthenticated-users-must-always-see-and-interact-with-the-full-login-ui-regardless-of-actor-or-identity-initialization-state",
      "featureTitle": "Rewrite frontend/src/components/bootstrap/BootstrapGate.tsx so it never blocks or visually disables the LoginPage UI. BootstrapGate must detect when the current route is the login page (or when the user is unauthenticated) and render children directly without any loading spinner, overlay, or disabled wrapper. The gate must only intercept navigation to authenticated/protected routes. Unauthenticated users must always see and interact with the full login UI regardless of actor or identity initialization state.",
      "files": [
        "frontend/src/components/bootstrap/BootstrapGate.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "stripe@3.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "http-outcalls@3.0.0",
        "qr-code@1.0.0",
        "camera@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-38"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-audit-and-fix-the-useinternetidentity-hook-integration-in-loginpage-ensure-the-hook-is-imported-from-the-correct-immutable-path-frontend-src-hooks-useinternetidentity-ts-that-the-destructured-login-function-and-isloggingin-isauthenticated-identity-values-are-correctly-consumed-and-that-a-useeffect-watches-isauthenticated-identity-to-trigger-role-based-navigation-after-login-resolves-if-the-hook-returns-a-promise-from-login-await-it-before-checking-authentication-state-confirm-the-internetidentityprovider-is-wrapping-the-app-in-frontend-src-main-tsx-so-the-hook-has-access-to-its-context",
      "featureTitle": "Audit and fix the useInternetIdentity hook integration in LoginPage. Ensure the hook is imported from the correct immutable path (frontend/src/hooks/useInternetIdentity.ts), that the destructured login function and isLoggingIn / isAuthenticated / identity values are correctly consumed, and that a useEffect watches isAuthenticated / identity to trigger role-based navigation after login resolves. If the hook returns a promise from login(), await it before checking authentication state. Confirm the InternetIdentityProvider is wrapping the app in frontend/src/main.tsx so the hook has access to its context.",
      "files": [
        "frontend/src/pages/LoginPage.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "stripe@3.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "http-outcalls@3.0.0",
        "qr-code@1.0.0",
        "camera@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-39"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-ensure-role-based-post-login-redirect-works-correctly-in-loginpage-after-login-resolves-and-the-user-is-authenticated-query-the-user-s-role-from-the-backend-actor-or-from-the-existing-usequeries-hooks-redirect-admin-users-to-admin-dashboard-manager-users-to-manager-dashboard-client-users-to-client-dashboard-and-any-other-authenticated-user-or-unresolved-role-to-dashboard-as-the-safe-default-if-the-role-query-is-still-loading-redirect-to-dashboard-immediately-rather-than-waiting-indefinitely",
      "featureTitle": "Ensure role-based post-login redirect works correctly in LoginPage. After login() resolves and the user is authenticated, query the user's role from the backend actor (or from the existing useQueries hooks). Redirect admin users to /admin-dashboard, manager users to /manager-dashboard, client users to /client-dashboard, and any other authenticated user or unresolved role to /dashboard as the safe default. If the role query is still loading, redirect to /dashboard immediately rather than waiting indefinitely.",
      "files": [
        "frontend/src/pages/LoginPage.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "stripe@3.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "http-outcalls@3.0.0",
        "qr-code@1.0.0",
        "camera@1.0.0",
        "blob-storage@4.0.0"
      ],
      "testIds": [
        "REQ-40"
      ],
      "confidence": "high"
    }
  ]
}